var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};jQuery(document).ready((function(e){e(".burger").click(t=>function(t){e(".burger span:nth-child(1)").toggleClass("first"),e(".burger span:nth-child(2)").toggleClass("second"),e(".burger span:nth-child(3)").toggleClass("third"),e(".burger span:nth-child(4)").toggleClass("fourth");let o=document.querySelector(".burger").dataset.activel;document.querySelector("."+o).classList.toggle("open");let i=document.querySelector(".apply-now-head");i&&i.classList.toggle("open"),e("."+o).slideToggle(300)}()),e(".blog-burger").length>0&&e(".blog-burger").click((function(){e(".blog-burger span:nth-child(1)").toggleClass("first"),e(".blog-burger span:nth-child(2)").toggleClass("second"),e(".blog-burger span:nth-child(3)").toggleClass("third"),e(".blog-burger span:nth-child(4)").toggleClass("fourth"),e(".top-blog-list__menu-wrap").slideToggle(300)})),e("header .bottom-menu").length>0&&e("header .anchor").click((function(){var t=e(this).attr("href"),o=e(t).offset().top-100;return jQuery("html:not(:animated),body:not(:animated)").animate({scrollTop:o},600),!1}));{let t=document.querySelector(".top-line .btn-wrap");t&&(t.addEventListener("click",t=>{t.preventDefault(),e(".top-line .btn-wrap .collapse").slideToggle(400)}),document.body.addEventListener("click",t=>{t.target.closest(".top-line .btn-wrap")||e(".top-line .btn-wrap .collapse").slideUp(400)}))}let t=document.querySelectorAll(".stars-list");if(t.length)for(let e of t)for(let t=0;t<e.dataset.amountstars;t++)e.children[t].lastChild.className="icon-star-full";!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){"use strict";var t=!1,o=!1,i=0,r=2e3,s=0,l=e,n=document,a=window,c=l(a),d=[],u=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||!1,h=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||!1;if(u)a.cancelAnimationFrame||(h=function(e){});else{var p=0;u=function(e,t){var o=(new Date).getTime(),i=Math.max(0,16-(o-p)),r=a.setTimeout((function(){e(o+i)}),i);return p=o+i,r},h=function(e){a.clearTimeout(e)}}var m=a.MutationObserver||a.WebKitMutationObserver||!1,f=Date.now||function(){return(new Date).getTime()},g={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var e=n.currentScript||function(){var e=n.getElementsByTagName("script");return!!e.length&&e[e.length-1]}(),t=e?e.src.split("?")[0]:"";return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},v=!1,w=function(){if(v)return v;var e=n.createElement("DIV"),t=e.style,o=navigator.userAgent,i=navigator.platform,r={};return r.haspointerlock="pointerLockElement"in n||"webkitPointerLockElement"in n||"mozPointerLockElement"in n,r.isopera="opera"in a,r.isopera12=r.isopera&&"getUserMedia"in navigator,r.isoperamini="[object OperaMini]"===Object.prototype.toString.call(a.operamini),r.isie="all"in n&&"attachEvent"in e&&!r.isopera,r.isieold=r.isie&&!("msInterpolationMode"in t),r.isie7=r.isie&&!r.isieold&&(!("documentMode"in n)||7===n.documentMode),r.isie8=r.isie&&"documentMode"in n&&8===n.documentMode,r.isie9=r.isie&&"performance"in a&&9===n.documentMode,r.isie10=r.isie&&"performance"in a&&10===n.documentMode,r.isie11="msRequestFullscreen"in e&&n.documentMode>=11,r.ismsedge="msCredentials"in a,r.ismozilla="MozAppearance"in t,r.iswebkit=!r.ismsedge&&"WebkitAppearance"in t,r.ischrome=r.iswebkit&&"chrome"in a,r.ischrome38=r.ischrome&&"touchAction"in t,r.ischrome22=!r.ischrome38&&r.ischrome&&r.haspointerlock,r.ischrome26=!r.ischrome38&&r.ischrome&&"transition"in t,r.cantouch="ontouchstart"in n.documentElement||"ontouchstart"in a,r.hasw3ctouch=!!a.PointerEvent&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),r.hasmstouch=!r.hasw3ctouch&&(a.MSPointerEvent||!1),r.ismac=/^mac$/i.test(i),r.isios=r.cantouch&&/iphone|ipad|ipod/i.test(i),r.isios4=r.isios&&!("seal"in Object),r.isios7=r.isios&&"webkitHidden"in n,r.isios8=r.isios&&"hidden"in n,r.isios10=r.isios&&a.Proxy,r.isandroid=/android/i.test(o),r.haseventlistener="addEventListener"in e,r.trstyle=!1,r.hastransform=!1,r.hastranslate3d=!1,r.transitionstyle=!1,r.hastransition=!1,r.transitionend=!1,r.trstyle="transform",r.hastransform="transform"in t||function(){for(var e=["msTransform","webkitTransform","MozTransform","OTransform"],o=0,i=e.length;o<i;o++)if(void 0!==t[e[o]]){r.trstyle=e[o];break}r.hastransform=!!r.trstyle}(),r.hastransform&&(t[r.trstyle]="translate3d(1px,2px,3px)",r.hastranslate3d=/translate3d/.test(t[r.trstyle])),r.transitionstyle="transition",r.prefixstyle="",r.transitionend="transitionend",r.hastransition="transition"in t||function(){r.transitionend=!1;for(var e=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],o=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],i=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],s=0,l=e.length;s<l;s++)if(e[s]in t){r.transitionstyle=e[s],r.prefixstyle=o[s],r.transitionend=i[s];break}r.ischrome26&&(r.prefixstyle=o[1]),r.hastransition=r.transitionstyle}(),r.cursorgrabvalue=function(){var e=["grab","-webkit-grab","-moz-grab"];(r.ischrome&&!r.ischrome38||r.isie)&&(e=[]);for(var o=0,i=e.length;o<i;o++){var s=e[o];if(t.cursor=s,t.cursor==s)return s}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),r.hasmousecapture="setCapture"in e,r.hasMutationObserver=!1!==m,e=null,v=r,r},b=function(e,p){function v(){var e=z.doc.css(L.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function b(e,t,o){var i=e.css(t),r=parseFloat(i);if(isNaN(r)){var s=3==(r=R[i]||0)?o?z.win.outerHeight()-z.win.innerHeight():z.win.outerWidth()-z.win.innerWidth():1;return z.isie8&&r&&(r+=1),s?r:0}return r}function x(e,t,o,i){z._bind(e,t,(function(i){var r={original:i=i||a.event,target:i.target||i.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return i.preventDefault?i.preventDefault():i.returnValue=!1,!1},stopImmediatePropagation:function(){i.stopImmediatePropagation?i.stopImmediatePropagation():i.cancelBubble=!0}};return"mousewheel"==t?(i.wheelDeltaX&&(r.deltaX=-.025*i.wheelDeltaX),i.wheelDeltaY&&(r.deltaY=-.025*i.wheelDeltaY),!r.deltaY&&!r.deltaX&&(r.deltaY=-.025*i.wheelDelta)):r.deltaY=i.detail,o.call(e,r)}),i)}function S(e,t,o,i){z.scrollrunning||(z.newscrolly=z.getScrollTop(),z.newscrollx=z.getScrollLeft(),H=f());var r=f()-H;if(H=f(),r>350?X=1:X+=(2-X)/10,t=t*X|0,e=e*X|0){if(i)if(e<0){if(z.getScrollLeft()>=z.page.maxw)return!0}else if(z.getScrollLeft()<=0)return!0;var s=e>0?1:-1;Y!==s&&(z.scrollmom&&z.scrollmom.stop(),z.newscrollx=z.getScrollLeft(),Y=s),z.lastdeltax-=e}if(t){if(function(){var e=z.getScrollTop();if(t<0){if(e>=z.page.maxh)return!0}else if(e<=0)return!0}()){if(_.nativeparentscrolling&&o&&!z.ispage&&!z.zoomactive)return!0;var l=z.view.h>>1;z.newscrolly<-l?(z.newscrolly=-l,t=-1):z.newscrolly>z.page.maxh+l?(z.newscrolly=z.page.maxh+l,t=1):t=0}var n=t>0?1:-1;A!==n&&(z.scrollmom&&z.scrollmom.stop(),z.newscrolly=z.getScrollTop(),A=n),z.lastdeltay-=t}(t||e)&&z.synched("relativexy",(function(){var e=z.lastdeltay+z.newscrolly;z.lastdeltay=0;var t=z.lastdeltax+z.newscrollx;z.lastdeltax=0,z.rail.drag||z.doScrollPos(t,e)}))}function k(e,t,o){var i,r;return!(o||!D)||(0===e.deltaMode?(i=-e.deltaX*(_.mousescrollstep/54)|0,r=-e.deltaY*(_.mousescrollstep/54)|0):1===e.deltaMode&&(i=-e.deltaX*_.mousescrollstep*50/80|0,r=-e.deltaY*_.mousescrollstep*50/80|0),t&&_.oneaxismousemode&&0===i&&r&&(i=r,r=0,o&&(i<0?z.getScrollLeft()>=z.page.maxw:z.getScrollLeft()<=0)&&(r=i,i=0)),z.isrtlmode&&(i=-i),S(i,r,o,!0)?void(o&&(D=!0)):(D=!1,e.stopImmediatePropagation(),e.preventDefault()))}var z=this;this.version="3.7.6",this.name="nicescroll",this.me=p;var T=l("body"),_=this.opt={doc:T,win:!1};if(l.extend(_,g),_.snapbackspeed=80,e)for(var E in _)void 0!==e[E]&&(_[E]=e[E]);if(_.disablemutationobserver&&(m=!1),this.doc=_.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test(_.win?_.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==_.win,this.win=_.win||(this.ispage?c:this.doc),this.docscroll=this.ispage&&!this.haswrapper?c:this.win,this.body=T,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=_.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==_.rtlmode){var C=this.win[0]==a?this.body:this.win,M=C.css("writing-mode")||C.css("-webkit-writing-mode")||C.css("-ms-writing-mode")||C.css("-moz-writing-mode");"horizontal-tb"==M||"lr-tb"==M||""===M?(this.isrtlmode="rtl"==C.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==M||"tb"==M||"tb-rl"==M||"rl-tb"==M,this.isvertical="vertical-rl"==M||"tb"==M||"tb-rl"==M)}else this.isrtlmode=!0===_.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==_.scrollbarid)this.id=_.scrollbarid;else do{this.id="ascrail"+r++}while(n.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=_.overflowx,this.overflowy=_.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=w();var L=l.extend({},this.detected);this.canhwscroll=L.hastransform&&_.hwacceleration,this.ishwscroll=this.canhwscroll&&z.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(L.iswebkit||L.isie||L.isie11):this.hasreversehr=!(L.iswebkit||L.isie&&!L.isie10&&!L.isie11):this.hasreversehr=!1,this.istouchcapable=!1,(L.cantouch||!L.hasw3ctouch&&!L.hasmstouch)&&(!L.cantouch||L.isios||L.isandroid||!L.iswebkit&&!L.ismozilla)||(this.istouchcapable=!0),_.enablemouselockapi||(L.hasmousecapture=!1,L.haspointerlock=!1),this.debounced=function(e,t,o){z&&(z.delaylist[e]||(z.delaylist[e]={h:u((function(){z.delaylist[e].fn.call(z),z.delaylist[e]=!1}),o)},t.call(z)),z.delaylist[e].fn=t)},this.synched=function(e,t){z.synclist[e]?z.synclist[e]=t:(z.synclist[e]=t,u((function(){z&&(z.synclist[e]&&z.synclist[e].call(z),z.synclist[e]=null)})))},this.unsynched=function(e){z.synclist[e]&&(z.synclist[e]=!1)},this.css=function(e,t){for(var o in t)z.saved.css.push([e,o,e.css(o)]),e.css(o,t[o])},this.scrollTop=function(e){return void 0===e?z.getScrollTop():z.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?z.getScrollLeft():z.setScrollLeft(e)};var P=function(e,t,o,i,r,s,l){this.st=e,this.ed=t,this.spd=o,this.p1=i||0,this.p2=r||1,this.p3=s||0,this.p4=l||1,this.ts=f(),this.df=t-e};if(P.prototype={B2:function(e){return 3*(1-e)*(1-e)*e},B3:function(e){return 3*(1-e)*e*e},B4:function(e){return e*e*e},getPos:function(){return(f()-this.ts)/this.spd},getNow:function(){var e=(f()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return e>=1?this.ed:this.st+this.df*t|0},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=f(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},L.hastranslate3d&&L.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var t=v();if(t)return 16==t.length?-t[13]:-t[5];if(z.timerscroll&&z.timerscroll.bz)return z.timerscroll.bz.getNow()}return z.doc.translate.y},this.getScrollLeft=function(e){if(!e){var t=v();if(t)return 16==t.length?-t[12]:-t[4];if(z.timerscroll&&z.timerscroll.bh)return z.timerscroll.bh.getNow()}return z.doc.translate.x},this.notifyScrollEvent=function(e){var t=n.createEvent("UIEvents");t.initUIEvent("scroll",!1,!1,a,1),t.niceevent=!0,e.dispatchEvent(t)};var N=this.isrtlmode?1:-1;L.hastranslate3d&&_.enabletranslate3d?(this.setScrollTop=function(e,t){z.doc.translate.y=e,z.doc.translate.ty=-1*e+"px",z.doc.css(L.trstyle,"translate3d("+z.doc.translate.tx+","+z.doc.translate.ty+",0)"),t||z.notifyScrollEvent(z.win[0])},this.setScrollLeft=function(e,t){z.doc.translate.x=e,z.doc.translate.tx=e*N+"px",z.doc.css(L.trstyle,"translate3d("+z.doc.translate.tx+","+z.doc.translate.ty+",0)"),t||z.notifyScrollEvent(z.win[0])}):(this.setScrollTop=function(e,t){z.doc.translate.y=e,z.doc.translate.ty=-1*e+"px",z.doc.css(L.trstyle,"translate("+z.doc.translate.tx+","+z.doc.translate.ty+")"),t||z.notifyScrollEvent(z.win[0])},this.setScrollLeft=function(e,t){z.doc.translate.x=e,z.doc.translate.tx=e*N+"px",z.doc.css(L.trstyle,"translate("+z.doc.translate.tx+","+z.doc.translate.ty+")"),t||z.notifyScrollEvent(z.win[0])})}else this.getScrollTop=function(){return z.docscroll.scrollTop()},this.setScrollTop=function(e){z.docscroll.scrollTop(e)},this.getScrollLeft=function(){return z.hasreversehr?z.detected.ismozilla?z.page.maxw-Math.abs(z.docscroll.scrollLeft()):z.page.maxw-z.docscroll.scrollLeft():z.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout((function(){if(z)return z.hasreversehr&&(e=z.detected.ismozilla?-(z.page.maxw-e):z.page.maxw-e),z.docscroll.scrollLeft(e)}),1)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,t){if(!e)return!1;for(var o=e.target||e.srcElement||e||!1;o&&o.id!=t;)o=o.parentNode||!1;return!1!==o};var R={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:a.pageYOffset||n.documentElement.scrollTop,left:a.pageXOffset||n.documentElement.scrollLeft}},this.getOffset=function(){if(z.isfixed){var e=z.win.offset(),t=z.getDocumentScrollOffset();return e.top-=t.top,e.left-=t.left,e}var o=z.win.offset();if(!z.viewport)return o;var i=z.viewport.offset();return{top:o.top-i.top,left:o.left-i.left}},this.updateScrollBar=function(e){var t,o;if(z.ishwscroll)z.rail.css({height:z.win.innerHeight()-(_.railpadding.top+_.railpadding.bottom)}),z.railh&&z.railh.css({width:z.win.innerWidth()-(_.railpadding.left+_.railpadding.right)});else{var i=z.getOffset();if((t={top:i.top,left:i.left-(_.railpadding.left+_.railpadding.right)}).top+=b(z.win,"border-top-width",!0),t.left+=z.rail.align?z.win.outerWidth()-b(z.win,"border-right-width")-z.rail.width:b(z.win,"border-left-width"),(o=_.railoffset)&&(o.top&&(t.top+=o.top),o.left&&(t.left+=o.left)),z.railslocked||z.rail.css({top:t.top,left:t.left,height:(e?e.h:z.win.innerHeight())-(_.railpadding.top+_.railpadding.bottom)}),z.zoom&&z.zoom.css({top:t.top+1,left:1==z.rail.align?t.left-20:t.left+z.rail.width+4}),z.railh&&!z.railslocked){t={top:i.top,left:i.left},(o=_.railhoffset)&&(o.top&&(t.top+=o.top),o.left&&(t.left+=o.left));var r=z.railh.align?t.top+b(z.win,"border-top-width",!0)+z.win.innerHeight()-z.railh.height:t.top+b(z.win,"border-top-width",!0),s=t.left+b(z.win,"border-left-width");z.railh.css({top:r-(_.railpadding.top+_.railpadding.bottom),left:s,width:z.railh.width})}}},this.doRailClick=function(e,t,o){var i,r,s,l;z.railslocked||(z.cancelEvent(e),"pageY"in e||(e.pageX=e.clientX+n.documentElement.scrollLeft,e.pageY=e.clientY+n.documentElement.scrollTop),t?(i=o?z.doScrollLeft:z.doScrollTop,s=o?(e.pageX-z.railh.offset().left-z.cursorwidth/2)*z.scrollratio.x:(e.pageY-z.rail.offset().top-z.cursorheight/2)*z.scrollratio.y,z.unsynched("relativexy"),i(0|s)):(i=o?z.doScrollLeftBy:z.doScrollBy,s=o?z.scroll.x:z.scroll.y,l=o?e.pageX-z.railh.offset().left:e.pageY-z.rail.offset().top,r=o?z.view.w:z.view.h,i(s>=l?r:-r)))},z.newscrolly=z.newscrollx=0,z.hasanimationframe="requestAnimationFrame"in a,z.hascancelanimationframe="cancelAnimationFrame"in a,z.hasborderbox=!1,this.init=function(){if(z.saved.css=[],L.isoperamini)return!0;if(L.isandroid&&!("hidden"in n))return!0;_.emulatetouch=_.emulatetouch||_.touchbehavior,z.hasborderbox=a.getComputedStyle&&"border-box"===a.getComputedStyle(n.body)["box-sizing"];var e={"overflow-y":"hidden"};if((L.isie11||L.isie10)&&(e["-ms-overflow-style"]="none"),z.ishwscroll&&(this.doc.css(L.transitionstyle,L.prefixstyle+"transform 0ms ease-out"),L.transitionend&&z.bind(z.doc,L.transitionend,z.onScrollTransitionEnd,!1)),z.zindex="auto",z.ispage||"auto"!=_.zindex?z.zindex=_.zindex:z.zindex=function(){var e=z.win;if("zIndex"in e)return e.zIndex();for(;e.length>0;){if(9==e[0].nodeType)return!1;var t=e.css("zIndex");if(!isNaN(t)&&0!==t)return parseInt(t);e=e.parent()}return!1}()||"auto",!z.ispage&&"auto"!=z.zindex&&z.zindex>s&&(s=z.zindex),z.isie&&0===z.zindex&&"auto"==_.zindex&&(z.zindex="auto"),!z.ispage||!L.isieold){var r=z.docscroll;z.ispage&&(r=z.haswrapper?z.win:z.doc),z.css(r,e),z.ispage&&(L.isie11||L.isie)&&z.css(l("html"),e),!L.isios||z.ispage||z.haswrapper||z.css(T,{"-webkit-overflow-scrolling":"touch"});var d=l(n.createElement("div"));d.css({position:"relative",top:0,float:"right",width:_.cursorwidth,height:0,"background-color":_.cursorcolor,border:_.cursorborder,"background-clip":"padding-box","-webkit-border-radius":_.cursorborderradius,"-moz-border-radius":_.cursorborderradius,"border-radius":_.cursorborderradius}),d.addClass("nicescroll-cursors"),z.cursor=d;var u=l(n.createElement("div"));u.attr("id",z.id),u.addClass("nicescroll-rails nicescroll-rails-vr");var h,p,f=["left","right","top","bottom"];for(var g in f)p=f[g],(h=_.railpadding[p]||0)&&u.css("padding-"+p,h+"px");u.append(d),u.width=Math.max(parseFloat(_.cursorwidth),d.outerWidth()),u.css({width:u.width+"px",zIndex:z.zindex,background:_.background,cursor:"default"}),u.visibility=!0,u.scrollable=!0,u.align="left"==_.railalign?0:1,z.rail=u,z.rail.drag=!1;var v,w=!1;if(!_.boxzoom||z.ispage||L.isieold||(w=n.createElement("div"),z.bind(w,"click",z.doZoom),z.bind(w,"mouseenter",(function(){z.zoom.css("opacity",_.cursoropacitymax)})),z.bind(w,"mouseleave",(function(){z.zoom.css("opacity",_.cursoropacitymin)})),z.zoom=l(w),z.zoom.css({cursor:"pointer",zIndex:z.zindex,backgroundImage:"url("+_.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),_.dblclickzoom&&z.bind(z.win,"dblclick",z.doZoom),L.cantouch&&_.gesturezoom&&(z.ongesturezoom=function(e){return e.scale>1.5&&z.doZoomIn(e),e.scale<.8&&z.doZoomOut(e),z.cancelEvent(e)},z.bind(z.win,"gestureend",z.ongesturezoom))),z.railh=!1,_.horizrailenabled&&(z.css(r,{overflowX:"hidden"}),(d=l(n.createElement("div"))).css({position:"absolute",top:0,height:_.cursorwidth,width:0,backgroundColor:_.cursorcolor,border:_.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":_.cursorborderradius,"-moz-border-radius":_.cursorborderradius,"border-radius":_.cursorborderradius}),L.isieold&&d.css("overflow","hidden"),d.addClass("nicescroll-cursors"),z.cursorh=d,(v=l(n.createElement("div"))).attr("id",z.id+"-hr"),v.addClass("nicescroll-rails nicescroll-rails-hr"),v.height=Math.max(parseFloat(_.cursorwidth),d.outerHeight()),v.css({height:v.height+"px",zIndex:z.zindex,background:_.background}),v.append(d),v.visibility=!0,v.scrollable=!0,v.align="top"==_.railvalign?0:1,z.railh=v,z.railh.drag=!1),z.ispage)u.css({position:"fixed",top:0,height:"100%"}),u.css(u.align?{right:0}:{left:0}),z.body.append(u),z.railh&&(v.css({position:"fixed",left:0,width:"100%"}),v.css(v.align?{bottom:0}:{top:0}),z.body.append(v));else{if(z.ishwscroll){"static"==z.win.css("position")&&z.css(z.win,{position:"relative"});var b="HTML"==z.win[0].nodeName?z.body:z.win;l(b).scrollTop(0).scrollLeft(0),z.zoom&&(z.zoom.css({position:"absolute",top:1,right:0,"margin-right":u.width+4}),b.append(z.zoom)),u.css({position:"absolute",top:0}),u.css(u.align?{right:0}:{left:0}),b.append(u),v&&(v.css({position:"absolute",left:0,bottom:0}),v.css(v.align?{bottom:0}:{top:0}),b.append(v))}else{z.isfixed="fixed"==z.win.css("position");var x=z.isfixed?"fixed":"absolute";z.isfixed||(z.viewport=z.getViewport(z.win[0])),z.viewport&&(z.body=z.viewport,/fixed|absolute/.test(z.viewport.css("position"))||z.css(z.viewport,{position:"relative"})),u.css({position:x}),z.zoom&&z.zoom.css({position:x}),z.updateScrollBar(),z.body.append(u),z.zoom&&z.body.append(z.zoom),z.railh&&(v.css({position:x}),z.body.append(v))}L.isios&&z.css(z.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),_.disableoutline&&(L.isie&&z.win.attr("hideFocus","true"),L.iswebkit&&z.win.css("outline","none"))}if(!1===_.autohidemode?(z.autohidedom=!1,z.rail.css({opacity:_.cursoropacitymax}),z.railh&&z.railh.css({opacity:_.cursoropacitymax})):!0===_.autohidemode||"leave"===_.autohidemode?(z.autohidedom=l().add(z.rail),L.isie8&&(z.autohidedom=z.autohidedom.add(z.cursor)),z.railh&&(z.autohidedom=z.autohidedom.add(z.railh)),z.railh&&L.isie8&&(z.autohidedom=z.autohidedom.add(z.cursorh))):"scroll"==_.autohidemode?(z.autohidedom=l().add(z.rail),z.railh&&(z.autohidedom=z.autohidedom.add(z.railh))):"cursor"==_.autohidemode?(z.autohidedom=l().add(z.cursor),z.railh&&(z.autohidedom=z.autohidedom.add(z.cursorh))):"hidden"==_.autohidemode&&(z.autohidedom=!1,z.hide(),z.railslocked=!1),L.cantouch||z.istouchcapable||_.emulatetouch||L.hasmstouch){z.scrollmom=new y(z),z.ontouchstart=function(e){if(z.locked)return!1;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;if(z.hasmoving=!1,z.scrollmom.timer&&(z.triggerScrollEnd(),z.scrollmom.stop()),!z.railslocked){var t=z.getTarget(e);if(t&&/INPUT/i.test(t.nodeName)&&/range/i.test(t.type))return z.stopPropagation(e);var o="mousedown"===e.type;if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),z.forcescreen){var i=e;(e={original:e.original?e.original:e}).clientX=i.screenX,e.clientY=i.screenY}if(z.rail.drag={x:e.clientX,y:e.clientY,sx:z.scroll.x,sy:z.scroll.y,st:z.getScrollTop(),sl:z.getScrollLeft(),pt:2,dl:!1,tg:t},z.ispage||!_.directionlockdeadzone)z.rail.drag.dl="f";else{var r={w:c.width(),h:c.height()},s=z.getContentSize(),n=s.h-r.h,a=s.w-r.w;z.rail.scrollable&&!z.railh.scrollable?z.rail.drag.ck=n>0&&"v":!z.rail.scrollable&&z.railh.scrollable?z.rail.drag.ck=a>0&&"h":z.rail.drag.ck=!1}if(_.emulatetouch&&z.isiframe&&L.isie){var d=z.win.position();z.rail.drag.x+=d.left,z.rail.drag.y+=d.top}if(z.hasmoving=!1,z.lastmouseup=!1,z.scrollmom.reset(e.clientX,e.clientY),t&&o){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(t.nodeName))return L.hasmousecapture&&t.setCapture(),_.emulatetouch?(t.onclick&&!t._onclick&&(t._onclick=t.onclick,t.onclick=function(e){if(z.hasmoving)return!1;t._onclick.call(this,e)}),z.cancelEvent(e)):z.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(l(t).attr("type"))&&(z.preventclick={tg:t,click:!1})}}},z.ontouchend=function(e){if(!z.rail.drag)return!0;if(2==z.rail.drag.pt){if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;z.rail.drag=!1;var t="mouseup"===e.type;if(z.hasmoving&&(z.scrollmom.doMomentum(),z.lastmouseup=!0,z.hideCursor(),L.hasmousecapture&&n.releaseCapture(),t))return z.cancelEvent(e)}else if(1==z.rail.drag.pt)return z.onmouseup(e)};var S=_.emulatetouch&&z.isiframe&&!L.hasmousecapture,k=.3*_.directionlockdeadzone|0;z.ontouchmove=function(e,t){if(!z.rail.drag)return!0;if(e.targetTouches&&_.preventmultitouchscrolling&&e.targetTouches.length>1)return!0;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!0;if(2==z.rail.drag.pt){var o,i;if("changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),i=o=0,S&&!t){var r=z.win.position();i=-r.left,o=-r.top}var s=e.clientY+o,l=s-z.rail.drag.y,a=e.clientX+i,c=a-z.rail.drag.x,d=z.rail.drag.st-l;if(z.ishwscroll&&_.bouncescroll)d<0?d=Math.round(d/2):d>z.page.maxh&&(d=z.page.maxh+Math.round((d-z.page.maxh)/2));else if(d<0?(d=0,s=0):d>z.page.maxh&&(d=z.page.maxh,s=0),0===s&&!z.hasmoving)return z.ispage||(z.rail.drag=!1),!0;var u=z.getScrollLeft();if(z.railh&&z.railh.scrollable&&(u=z.isrtlmode?c-z.rail.drag.sl:z.rail.drag.sl-c,z.ishwscroll&&_.bouncescroll?u<0?u=Math.round(u/2):u>z.page.maxw&&(u=z.page.maxw+Math.round((u-z.page.maxw)/2)):(u<0&&(u=0,a=0),u>z.page.maxw&&(u=z.page.maxw,a=0))),!z.hasmoving){if(z.rail.drag.y===e.clientY&&z.rail.drag.x===e.clientX)return z.cancelEvent(e);var h=Math.abs(l),p=Math.abs(c),m=_.directionlockdeadzone;if(z.rail.drag.ck?"v"==z.rail.drag.ck?p>m&&h<=k?z.rail.drag=!1:h>m&&(z.rail.drag.dl="v"):"h"==z.rail.drag.ck&&(h>m&&p<=k?z.rail.drag=!1:p>m&&(z.rail.drag.dl="h")):h>m&&p>m?z.rail.drag.dl="f":h>m?z.rail.drag.dl=p>k?"f":"v":p>m&&(z.rail.drag.dl=h>k?"f":"h"),!z.rail.drag.dl)return z.cancelEvent(e);z.triggerScrollStart(e.clientX,e.clientY,0,0,0),z.hasmoving=!0}return z.preventclick&&!z.preventclick.click&&(z.preventclick.click=z.preventclick.tg.onclick||!1,z.preventclick.tg.onclick=z.onpreventclick),z.rail.drag.dl&&("v"==z.rail.drag.dl?u=z.rail.drag.sl:"h"==z.rail.drag.dl&&(d=z.rail.drag.st)),z.synched("touchmove",(function(){z.rail.drag&&2==z.rail.drag.pt&&(z.prepareTransition&&z.resetTransition(),z.rail.scrollable&&z.setScrollTop(d),z.scrollmom.update(a,s),z.railh&&z.railh.scrollable?(z.setScrollLeft(u),z.showCursor(d,u)):z.showCursor(d),L.isie10&&n.selection.clear())})),z.cancelEvent(e)}return 1==z.rail.drag.pt?z.onmousemove(e):void 0},z.ontouchstartCursor=function(e,t){if(!z.rail.drag||3==z.rail.drag.pt){if(z.locked)return z.cancelEvent(e);z.cancelScroll(),z.rail.drag={x:e.touches[0].clientX,y:e.touches[0].clientY,sx:z.scroll.x,sy:z.scroll.y,pt:3,hr:!!t};var o=z.getTarget(e);return!z.ispage&&L.hasmousecapture&&o.setCapture(),z.isiframe&&!L.hasmousecapture&&(z.saved.csspointerevents=z.doc.css("pointer-events"),z.css(z.doc,{"pointer-events":"none"})),z.cancelEvent(e)}},z.ontouchendCursor=function(e){if(z.rail.drag){if(L.hasmousecapture&&n.releaseCapture(),z.isiframe&&!L.hasmousecapture&&z.doc.css("pointer-events",z.saved.csspointerevents),3!=z.rail.drag.pt)return;return z.rail.drag=!1,z.cancelEvent(e)}},z.ontouchmoveCursor=function(e){if(z.rail.drag){if(3!=z.rail.drag.pt)return;if(z.cursorfreezed=!0,z.rail.drag.hr){z.scroll.x=z.rail.drag.sx+(e.touches[0].clientX-z.rail.drag.x),z.scroll.x<0&&(z.scroll.x=0);var t=z.scrollvaluemaxw;z.scroll.x>t&&(z.scroll.x=t)}else{z.scroll.y=z.rail.drag.sy+(e.touches[0].clientY-z.rail.drag.y),z.scroll.y<0&&(z.scroll.y=0);var o=z.scrollvaluemax;z.scroll.y>o&&(z.scroll.y=o)}return z.synched("touchmove",(function(){z.rail.drag&&3==z.rail.drag.pt&&(z.showCursor(),z.rail.drag.hr?z.doScrollLeft(Math.round(z.scroll.x*z.scrollratio.x),_.cursordragspeed):z.doScrollTop(Math.round(z.scroll.y*z.scrollratio.y),_.cursordragspeed))})),z.cancelEvent(e)}}}if(z.onmousedown=function(e,t){if(!z.rail.drag||1==z.rail.drag.pt){if(z.railslocked)return z.cancelEvent(e);z.cancelScroll(),z.rail.drag={x:e.clientX,y:e.clientY,sx:z.scroll.x,sy:z.scroll.y,pt:1,hr:t||!1};var o=z.getTarget(e);return L.hasmousecapture&&o.setCapture(),z.isiframe&&!L.hasmousecapture&&(z.saved.csspointerevents=z.doc.css("pointer-events"),z.css(z.doc,{"pointer-events":"none"})),z.hasmoving=!1,z.cancelEvent(e)}},z.onmouseup=function(e){if(z.rail.drag)return 1!=z.rail.drag.pt||(L.hasmousecapture&&n.releaseCapture(),z.isiframe&&!L.hasmousecapture&&z.doc.css("pointer-events",z.saved.csspointerevents),z.rail.drag=!1,z.cursorfreezed=!1,z.hasmoving&&z.triggerScrollEnd(),z.cancelEvent(e))},z.onmousemove=function(e){if(z.rail.drag){if(1!==z.rail.drag.pt)return;if(L.ischrome&&0===e.which)return z.onmouseup(e);if(z.cursorfreezed=!0,z.hasmoving||z.triggerScrollStart(e.clientX,e.clientY,0,0,0),z.hasmoving=!0,z.rail.drag.hr){z.scroll.x=z.rail.drag.sx+(e.clientX-z.rail.drag.x),z.scroll.x<0&&(z.scroll.x=0);var t=z.scrollvaluemaxw;z.scroll.x>t&&(z.scroll.x=t)}else{z.scroll.y=z.rail.drag.sy+(e.clientY-z.rail.drag.y),z.scroll.y<0&&(z.scroll.y=0);var o=z.scrollvaluemax;z.scroll.y>o&&(z.scroll.y=o)}return z.synched("mousemove",(function(){z.cursorfreezed&&(z.showCursor(),z.rail.drag.hr?z.scrollLeft(Math.round(z.scroll.x*z.scrollratio.x)):z.scrollTop(Math.round(z.scroll.y*z.scrollratio.y)))})),z.cancelEvent(e)}z.checkarea=0},L.cantouch||_.emulatetouch)z.onpreventclick=function(e){if(z.preventclick)return z.preventclick.tg.onclick=z.preventclick.click,z.preventclick=!1,z.cancelEvent(e)},z.onclick=!L.isios&&function(e){return!z.lastmouseup||(z.lastmouseup=!1,z.cancelEvent(e))},_.grabcursorenabled&&L.cursorgrabvalue&&(z.css(z.ispage?z.doc:z.win,{cursor:L.cursorgrabvalue}),z.css(z.rail,{cursor:L.cursorgrabvalue}));else{var E=function(e){if(z.selectiondrag){if(e){var t=z.win.outerHeight(),o=e.pageY-z.selectiondrag.top;o>0&&o<t&&(o=0),o>=t&&(o-=t),z.selectiondrag.df=o}if(0!==z.selectiondrag.df){var i=-2*z.selectiondrag.df/6|0;z.doScrollBy(i),z.debounced("doselectionscroll",(function(){E()}),50)}}};z.hasTextSelected="getSelection"in n?function(){return n.getSelection().rangeCount>0}:"selection"in n?function(){return"None"!=n.selection.type}:function(){return!1},z.onselectionstart=function(e){z.ispage||(z.selectiondrag=z.win.offset())},z.onselectionend=function(e){z.selectiondrag=!1},z.onselectiondrag=function(e){z.selectiondrag&&z.hasTextSelected()&&z.debounced("selectionscroll",(function(){E(e)}),250)}}if(L.hasw3ctouch?(z.css(z.ispage?l("html"):z.win,{"touch-action":"none"}),z.css(z.rail,{"touch-action":"none"}),z.css(z.cursor,{"touch-action":"none"}),z.bind(z.win,"pointerdown",z.ontouchstart),z.bind(n,"pointerup",z.ontouchend),z.delegate(n,"pointermove",z.ontouchmove)):L.hasmstouch?(z.css(z.ispage?l("html"):z.win,{"-ms-touch-action":"none"}),z.css(z.rail,{"-ms-touch-action":"none"}),z.css(z.cursor,{"-ms-touch-action":"none"}),z.bind(z.win,"MSPointerDown",z.ontouchstart),z.bind(n,"MSPointerUp",z.ontouchend),z.delegate(n,"MSPointerMove",z.ontouchmove),z.bind(z.cursor,"MSGestureHold",(function(e){e.preventDefault()})),z.bind(z.cursor,"contextmenu",(function(e){e.preventDefault()}))):L.cantouch&&(z.bind(z.win,"touchstart",z.ontouchstart,!1,!0),z.bind(n,"touchend",z.ontouchend,!1,!0),z.bind(n,"touchcancel",z.ontouchend,!1,!0),z.delegate(n,"touchmove",z.ontouchmove,!1,!0)),_.emulatetouch&&(z.bind(z.win,"mousedown",z.ontouchstart,!1,!0),z.bind(n,"mouseup",z.ontouchend,!1,!0),z.bind(n,"mousemove",z.ontouchmove,!1,!0)),(_.cursordragontouch||!L.cantouch&&!_.emulatetouch)&&(z.rail.css({cursor:"default"}),z.railh&&z.railh.css({cursor:"default"}),z.jqbind(z.rail,"mouseenter",(function(){if(!z.ispage&&!z.win.is(":visible"))return!1;z.canshowonmouseevent&&z.showCursor(),z.rail.active=!0})),z.jqbind(z.rail,"mouseleave",(function(){z.rail.active=!1,z.rail.drag||z.hideCursor()})),_.sensitiverail&&(z.bind(z.rail,"click",(function(e){z.doRailClick(e,!1,!1)})),z.bind(z.rail,"dblclick",(function(e){z.doRailClick(e,!0,!1)})),z.bind(z.cursor,"click",(function(e){z.cancelEvent(e)})),z.bind(z.cursor,"dblclick",(function(e){z.cancelEvent(e)}))),z.railh&&(z.jqbind(z.railh,"mouseenter",(function(){if(!z.ispage&&!z.win.is(":visible"))return!1;z.canshowonmouseevent&&z.showCursor(),z.rail.active=!0})),z.jqbind(z.railh,"mouseleave",(function(){z.rail.active=!1,z.rail.drag||z.hideCursor()})),_.sensitiverail&&(z.bind(z.railh,"click",(function(e){z.doRailClick(e,!1,!0)})),z.bind(z.railh,"dblclick",(function(e){z.doRailClick(e,!0,!0)})),z.bind(z.cursorh,"click",(function(e){z.cancelEvent(e)})),z.bind(z.cursorh,"dblclick",(function(e){z.cancelEvent(e)}))))),_.cursordragontouch&&(this.istouchcapable||L.cantouch)&&(z.bind(z.cursor,"touchstart",z.ontouchstartCursor),z.bind(z.cursor,"touchmove",z.ontouchmoveCursor),z.bind(z.cursor,"touchend",z.ontouchendCursor),z.cursorh&&z.bind(z.cursorh,"touchstart",(function(e){z.ontouchstartCursor(e,!0)})),z.cursorh&&z.bind(z.cursorh,"touchmove",z.ontouchmoveCursor),z.cursorh&&z.bind(z.cursorh,"touchend",z.ontouchendCursor)),_.emulatetouch||L.isandroid||L.isios?(z.bind(L.hasmousecapture?z.win:n,"mouseup",z.ontouchend),z.onclick&&z.bind(n,"click",z.onclick),_.cursordragontouch?(z.bind(z.cursor,"mousedown",z.onmousedown),z.bind(z.cursor,"mouseup",z.onmouseup),z.cursorh&&z.bind(z.cursorh,"mousedown",(function(e){z.onmousedown(e,!0)})),z.cursorh&&z.bind(z.cursorh,"mouseup",z.onmouseup)):(z.bind(z.rail,"mousedown",(function(e){e.preventDefault()})),z.railh&&z.bind(z.railh,"mousedown",(function(e){e.preventDefault()})))):(z.bind(L.hasmousecapture?z.win:n,"mouseup",z.onmouseup),z.bind(n,"mousemove",z.onmousemove),z.onclick&&z.bind(n,"click",z.onclick),z.bind(z.cursor,"mousedown",z.onmousedown),z.bind(z.cursor,"mouseup",z.onmouseup),z.railh&&(z.bind(z.cursorh,"mousedown",(function(e){z.onmousedown(e,!0)})),z.bind(z.cursorh,"mouseup",z.onmouseup)),!z.ispage&&_.enablescrollonselection&&(z.bind(z.win[0],"mousedown",z.onselectionstart),z.bind(n,"mouseup",z.onselectionend),z.bind(z.cursor,"mouseup",z.onselectionend),z.cursorh&&z.bind(z.cursorh,"mouseup",z.onselectionend),z.bind(n,"mousemove",z.onselectiondrag)),z.zoom&&(z.jqbind(z.zoom,"mouseenter",(function(){z.canshowonmouseevent&&z.showCursor(),z.rail.active=!0})),z.jqbind(z.zoom,"mouseleave",(function(){z.rail.active=!1,z.rail.drag||z.hideCursor()})))),_.enablemousewheel&&(z.isiframe||z.mousewheel(L.isie&&z.ispage?n:z.win,z.onmousewheel),z.mousewheel(z.rail,z.onmousewheel),z.railh&&z.mousewheel(z.railh,z.onmousewheelhr)),z.ispage||L.cantouch||/HTML|^BODY/.test(z.win[0].nodeName)||(z.win.attr("tabindex")||z.win.attr({tabindex:++i}),z.bind(z.win,"focus",(function(e){t=z.getTarget(e).id||z.getTarget(e)||!1,z.hasfocus=!0,z.canshowonmouseevent&&z.noticeCursor()})),z.bind(z.win,"blur",(function(e){t=!1,z.hasfocus=!1})),z.bind(z.win,"mouseenter",(function(e){o=z.getTarget(e).id||z.getTarget(e)||!1,z.hasmousefocus=!0,z.canshowonmouseevent&&z.noticeCursor()})),z.bind(z.win,"mouseleave",(function(e){o=!1,z.hasmousefocus=!1,z.rail.drag||z.hideCursor()}))),z.onkeypress=function(e){if(z.railslocked&&0===z.page.maxh)return!0;e=e||a.event;var i=z.getTarget(e);if(i&&/INPUT|TEXTAREA|SELECT|OPTION/.test(i.nodeName)&&(!i.getAttribute("type")&&!i.type||!/submit|button|cancel/i.tp))return!0;if(l(i).attr("contenteditable"))return!0;if(z.hasfocus||z.hasmousefocus&&!t||z.ispage&&!t&&!o){var r=e.keyCode;if(z.railslocked&&27!=r)return z.cancelEvent(e);var s=e.ctrlKey||!1,n=e.shiftKey||!1,c=!1;switch(r){case 38:case 63233:z.doScrollBy(72),c=!0;break;case 40:case 63235:z.doScrollBy(-72),c=!0;break;case 37:case 63232:z.railh&&(s?z.doScrollLeft(0):z.doScrollLeftBy(72),c=!0);break;case 39:case 63234:z.railh&&(s?z.doScrollLeft(z.page.maxw):z.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:z.doScrollBy(z.view.h),c=!0;break;case 34:case 63277:z.doScrollBy(-z.view.h),c=!0;break;case 36:case 63273:z.railh&&s?z.doScrollPos(0,0):z.doScrollTo(0),c=!0;break;case 35:case 63275:z.railh&&s?z.doScrollPos(z.page.maxw,z.page.maxh):z.doScrollTo(z.page.maxh),c=!0;break;case 32:_.spacebarenabled&&(n?z.doScrollBy(z.view.h):z.doScrollBy(-z.view.h),c=!0);break;case 27:z.zoomactive&&(z.doZoom(),c=!0)}if(c)return z.cancelEvent(e)}},_.enablekeyboard&&z.bind(n,L.isopera&&!L.isopera12?"keypress":"keydown",z.onkeypress),z.bind(n,"keydown",(function(e){e.ctrlKey&&(z.wheelprevented=!0)})),z.bind(n,"keyup",(function(e){e.ctrlKey||(z.wheelprevented=!1)})),z.bind(a,"blur",(function(e){z.wheelprevented=!1})),z.bind(a,"resize",z.onscreenresize),z.bind(a,"orientationchange",z.onscreenresize),z.bind(a,"load",z.lazyResize),L.ischrome&&!z.ispage&&!z.haswrapper){var C=z.win.attr("style"),M=parseFloat(z.win.css("width"))+1;z.win.css("width",M),z.synched("chromefix",(function(){z.win.attr("style",C)}))}if(z.onAttributeChange=function(e){z.lazyResize(z.isieold?250:30)},_.enableobserver&&(z.isie11||!1===m||(z.observerbody=new m((function(e){if(e.forEach((function(e){if("attributes"==e.type)return T.hasClass("modal-open")&&T.hasClass("modal-dialog")&&!l.contains(l(".modal-dialog")[0],z.doc[0])?z.hide():z.show()})),z.me.clientWidth!=z.page.width||z.me.clientHeight!=z.page.height)return z.lazyResize(30)})),z.observerbody.observe(n.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!z.ispage&&!z.haswrapper)){var P=z.win[0];!1!==m?(z.observer=new m((function(e){e.forEach(z.onAttributeChange)})),z.observer.observe(P,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),z.observerremover=new m((function(e){e.forEach((function(e){if(e.removedNodes.length>0)for(var t in e.removedNodes)if(z&&e.removedNodes[t]===P)return z.remove()}))})),z.observerremover.observe(P.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(z.bind(P,L.isie&&!L.isie9?"propertychange":"DOMAttrModified",z.onAttributeChange),L.isie9&&P.attachEvent("onpropertychange",z.onAttributeChange),z.bind(P,"DOMNodeRemoved",(function(e){e.target===P&&z.remove()})))}!z.ispage&&_.boxzoom&&z.bind(a,"resize",z.resizeZoom),z.istextarea&&(z.bind(z.win,"keydown",z.lazyResize),z.bind(z.win,"mouseup",z.lazyResize)),z.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var N=function(){var t;z.iframexd=!1;try{(t="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(e){z.iframexd=!0,t=!1}if(z.iframexd)return"console"in a&&console.log("NiceScroll error: policy restriced iframe"),!0;if(z.forcescreen=!0,z.isiframe&&(z.iframe={doc:l(t),html:z.doc.contents().find("html")[0],body:z.doc.contents().find("body")[0]},z.getContentSize=function(){return{w:Math.max(z.iframe.html.scrollWidth,z.iframe.body.scrollWidth),h:Math.max(z.iframe.html.scrollHeight,z.iframe.body.scrollHeight)}},z.docscroll=l(z.iframe.body)),!L.isios&&_.iframeautoresize&&!z.isiframe){z.win.scrollTop(0),z.doc.height("");var o=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);z.doc.height(o)}z.lazyResize(30),z.css(l(z.iframe.body),e),L.isios&&z.haswrapper&&z.css(l(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?z.bind(this.contentWindow,"scroll",z.onscroll):z.bind(t,"scroll",z.onscroll),_.enablemousewheel&&z.mousewheel(t,z.onmousewheel),_.enablekeyboard&&z.bind(t,L.isopera?"keypress":"keydown",z.onkeypress),L.cantouch?(z.bind(t,"touchstart",z.ontouchstart),z.bind(t,"touchmove",z.ontouchmove)):_.emulatetouch&&(z.bind(t,"mousedown",z.ontouchstart),z.bind(t,"mousemove",(function(e){return z.ontouchmove(e,!0)})),_.grabcursorenabled&&L.cursorgrabvalue&&z.css(l(t.body),{cursor:L.cursorgrabvalue})),z.bind(t,"mouseup",z.ontouchend),z.zoom&&(_.dblclickzoom&&z.bind(t,"dblclick",z.doZoom),z.ongesturezoom&&z.bind(t,"gestureend",z.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout((function(){N.call(z.doc[0],!1)}),500),z.bind(this.doc,"load",N)}},this.showCursor=function(e,t){if(z.cursortimeout&&(clearTimeout(z.cursortimeout),z.cursortimeout=0),z.rail){if(z.autohidedom&&(z.autohidedom.stop().css({opacity:_.cursoropacitymax}),z.cursoractive=!0),z.rail.drag&&1==z.rail.drag.pt||(void 0!==e&&!1!==e&&(z.scroll.y=e/z.scrollratio.y|0),void 0!==t&&(z.scroll.x=t/z.scrollratio.x|0)),z.cursor.css({height:z.cursorheight,top:z.scroll.y}),z.cursorh){var o=z.hasreversehr?z.scrollvaluemaxw-z.scroll.x:z.scroll.x;z.cursorh.css({width:z.cursorwidth,left:!z.rail.align&&z.rail.visibility?o+z.rail.width:o}),z.cursoractive=!0}z.zoom&&z.zoom.stop().css({opacity:_.cursoropacitymax})}},this.hideCursor=function(e){z.cursortimeout||z.rail&&z.autohidedom&&(z.hasmousefocus&&"leave"===_.autohidemode||(z.cursortimeout=setTimeout((function(){z.rail.active&&z.showonmouseevent||(z.autohidedom.stop().animate({opacity:_.cursoropacitymin}),z.zoom&&z.zoom.stop().animate({opacity:_.cursoropacitymin}),z.cursoractive=!1),z.cursortimeout=0}),e||_.hidecursordelay)))},this.noticeCursor=function(e,t,o){z.showCursor(t,o),z.rail.active||z.hideCursor(e)},this.getContentSize=z.ispage?function(){return{w:Math.max(n.body.scrollWidth,n.documentElement.scrollWidth),h:Math.max(n.body.scrollHeight,n.documentElement.scrollHeight)}}:z.haswrapper?function(){return{w:z.doc[0].offsetWidth,h:z.doc[0].offsetHeight}}:function(){return{w:z.docscroll[0].scrollWidth,h:z.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!z||!z.win)return!1;var o=z.page.maxh,i=z.page.maxw,r=z.view.h,s=z.view.w;if(z.view={w:z.ispage?z.win.width():z.win[0].clientWidth,h:z.ispage?z.win.height():z.win[0].clientHeight},z.page=t||z.getContentSize(),z.page.maxh=Math.max(0,z.page.h-z.view.h),z.page.maxw=Math.max(0,z.page.w-z.view.w),z.page.maxh==o&&z.page.maxw==i&&z.view.w==s&&z.view.h==r){if(z.ispage)return z;var l=z.win.offset();if(z.lastposition){var n=z.lastposition;if(n.top==l.top&&n.left==l.left)return z}z.lastposition=l}return 0===z.page.maxh?(z.hideRail(),z.scrollvaluemax=0,z.scroll.y=0,z.scrollratio.y=0,z.cursorheight=0,z.setScrollTop(0),z.rail&&(z.rail.scrollable=!1)):(z.page.maxh-=_.railpadding.top+_.railpadding.bottom,z.rail.scrollable=!0),0===z.page.maxw?(z.hideRailHr(),z.scrollvaluemaxw=0,z.scroll.x=0,z.scrollratio.x=0,z.cursorwidth=0,z.setScrollLeft(0),z.railh&&(z.railh.scrollable=!1)):(z.page.maxw-=_.railpadding.left+_.railpadding.right,z.railh&&(z.railh.scrollable=_.horizrailenabled)),z.railslocked=z.locked||0===z.page.maxh&&0===z.page.maxw,z.railslocked?(z.ispage||z.updateScrollBar(z.view),!1):(z.hidden||(z.rail.visibility||z.showRail(),z.railh&&!z.railh.visibility&&z.showRailHr()),z.istextarea&&z.win.css("resize")&&"none"!=z.win.css("resize")&&(z.view.h-=20),z.cursorheight=Math.min(z.view.h,Math.round(z.view.h*(z.view.h/z.page.h))),z.cursorheight=_.cursorfixedheight?_.cursorfixedheight:Math.max(_.cursorminheight,z.cursorheight),z.cursorwidth=Math.min(z.view.w,Math.round(z.view.w*(z.view.w/z.page.w))),z.cursorwidth=_.cursorfixedheight?_.cursorfixedheight:Math.max(_.cursorminheight,z.cursorwidth),z.scrollvaluemax=z.view.h-z.cursorheight-(_.railpadding.top+_.railpadding.bottom),z.hasborderbox||(z.scrollvaluemax-=z.cursor[0].offsetHeight-z.cursor[0].clientHeight),z.railh&&(z.railh.width=z.page.maxh>0?z.view.w-z.rail.width:z.view.w,z.scrollvaluemaxw=z.railh.width-z.cursorwidth-(_.railpadding.left+_.railpadding.right)),z.ispage||z.updateScrollBar(z.view),z.scrollratio={x:z.page.maxw/z.scrollvaluemaxw,y:z.page.maxh/z.scrollvaluemax},z.getScrollTop()>z.page.maxh?z.doScrollTop(z.page.maxh):(z.scroll.y=z.getScrollTop()/z.scrollratio.y|0,z.scroll.x=z.getScrollLeft()/z.scrollratio.x|0,z.cursoractive&&z.noticeCursor()),z.scroll.y&&0===z.getScrollTop()&&z.doScrollTo(z.scroll.y*z.scrollratio.y|0),z)},this.resize=z.onResize;var O=0;this.onscreenresize=function(e){clearTimeout(O);var t=!z.ispage&&!z.haswrapper;t&&z.hideRails(),O=setTimeout((function(){z&&(t&&z.showRails(),z.resize()),O=0}),120)},this.lazyResize=function(e){return clearTimeout(O),e=isNaN(e)?240:e,O=setTimeout((function(){z&&z.resize(),O=0}),e),z},this.jqbind=function(e,t,o){z.events.push({e:e,n:t,f:o,q:!0}),l(e).on(t,o)},this.mousewheel=function(e,t,o){var i="jquery"in e?e[0]:e;if("onwheel"in n.createElement("div"))z._bind(i,"wheel",t,o||!1);else{var r=void 0!==n.onmousewheel?"mousewheel":"DOMMouseScroll";x(i,r,t,o||!1),"DOMMouseScroll"==r&&x(i,"MozMousePixelScroll",t,o||!1)}};var B=!1;if(L.haseventlistener){try{var I=Object.defineProperty({},"passive",{get:function(){B=!0}});a.addEventListener("test",null,I)}catch(e){}this.stopPropagation=function(e){return!!e&&((e=e.original?e.original:e).stopPropagation(),!1)},this.cancelEvent=function(e){return e.cancelable&&e.preventDefault(),e.stopImmediatePropagation(),e.preventManipulation&&e.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},a.constructor.prototype.addEventListener=n.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(e,t,o){this.attachEvent("on"+e,t)},a.constructor.prototype.removeEventListener=n.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(e,t,o){this.detachEvent("on"+e,t)},this.cancelEvent=function(e){return(e=e||a.event)&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1),!1},this.stopPropagation=function(e){return(e=e||a.event)&&(e.cancelBubble=!0),!1};this.delegate=function(e,t,o,i,r){var s=d[t]||!1;s||(s={a:[],l:[],f:function(e){for(var t=s.l,o=!1,i=t.length-1;i>=0;i--)if(!1===(o=t[i].call(e.target,e)))return!1;return o}},z.bind(e,t,s.f,i,r),d[t]=s),z.ispage?(s.a=[z.id].concat(s.a),s.l=[o].concat(s.l)):(s.a.push(z.id),s.l.push(o))},this.undelegate=function(e,t,o,i,r){var s=d[t]||!1;if(s&&s.l)for(var l=0,n=s.l.length;l<n;l++)s.a[l]===z.id&&(s.a.splice(l),s.l.splice(l),0===s.a.length&&(z._unbind(e,t,s.l.f),d[t]=null))},this.bind=function(e,t,o,i,r){var s="jquery"in e?e[0]:e;z._bind(s,t,o,i||!1,r||!1)},this._bind=function(e,t,o,i,r){z.events.push({e:e,n:t,f:o,b:i,q:!1}),B&&r?e.addEventListener(t,o,{passive:!1,capture:i}):e.addEventListener(t,o,i||!1)},this._unbind=function(e,t,o,i){d[t]?z.undelegate(e,t,o,i):e.removeEventListener(t,o,i)},this.unbindAll=function(){for(var e=0;e<z.events.length;e++){var t=z.events[e];t.q?t.e.unbind(t.n,t.f):z._unbind(t.e,t.n,t.f,t.b)}},this.showRails=function(){return z.showRail().showRailHr()},this.showRail=function(){return 0===z.page.maxh||!z.ispage&&"none"==z.win.css("display")||(z.rail.visibility=!0,z.rail.css("display","block"),z.rail.parent().removeClass("noscroll")),z},this.showRailHr=function(){return z.railh&&(0===z.page.maxw||!z.ispage&&"none"==z.win.css("display")||(z.railh.visibility=!0,z.railh.css("display","block"))),z},this.hideRails=function(){return z.hideRail().hideRailHr()},this.hideRail=function(){return z.rail.visibility=!1,z.rail.css("display","none"),z.rail.parent().addClass("noscroll"),z},this.hideRailHr=function(){return z.railh&&(z.railh.visibility=!1,z.railh.css("display","none")),z},this.show=function(){return z.hidden=!1,z.railslocked=!1,z.showRails()},this.hide=function(){return z.hidden=!0,z.railslocked=!0,z.hideRails()},this.toggle=function(){return z.hidden?z.show():z.hide()},this.remove=function(){for(var e in z.stop(),z.cursortimeout&&clearTimeout(z.cursortimeout),z.delaylist)z.delaylist[e]&&h(z.delaylist[e].h);z.doZoomOut(),z.unbindAll(),L.isie9&&z.win[0].detachEvent("onpropertychange",z.onAttributeChange),!1!==z.observer&&z.observer.disconnect(),!1!==z.observerremover&&z.observerremover.disconnect(),!1!==z.observerbody&&z.observerbody.disconnect(),z.events=null,z.cursor&&z.cursor.remove(),z.cursorh&&z.cursorh.remove(),z.rail&&z.rail.remove(),z.railh&&z.railh.remove(),z.zoom&&z.zoom.remove();for(var t=0;t<z.saved.css.length;t++){var o=z.saved.css[t];o[0].css(o[1],void 0===o[2]?"":o[2])}z.saved=!1,z.me.data("__nicescroll","");var i=l.nicescroll;for(var r in i.each((function(e){if(this&&this.id===z.id){delete i[e];for(var t=++e;t<i.length;t++,e++)i[e]=i[t];--i.length&&delete i[i.length]}})),z)z[r]=null,delete z[r];z=null},this.scrollstart=function(e){return this.onscrollstart=e,z},this.scrollend=function(e){return this.onscrollend=e,z},this.scrollcancel=function(e){return this.onscrollcancel=e,z},this.zoomin=function(e){return this.onzoomin=e,z},this.zoomout=function(e){return this.onzoomout=e,z},this.isScrollable=function(e){var t=e.target?e.target:e;if("OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&t!==this.me[0]&&!/^BODY|HTML/.test(t.nodeName);){var o=l(t),i=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(i))return t.clientHeight!=t.scrollHeight;t=!!t.parentNode&&t.parentNode}return!1},this.getViewport=function(e){for(var t=!(!e||!e.parentNode)&&e.parentNode;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var o=l(t);if(/fixed|absolute/.test(o.css("position")))return o;var i=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(i)&&t.clientHeight!=t.scrollHeight)return o;if(o.getNiceScroll().length>0)return o;t=!!t.parentNode&&t.parentNode}return!1},this.triggerScrollStart=function(e,t,o,i,r){if(z.onscrollstart){var s={type:"scrollstart",current:{x:e,y:t},request:{x:o,y:i},end:{x:z.newscrollx,y:z.newscrolly},speed:r};z.onscrollstart.call(z,s)}},this.triggerScrollEnd=function(){if(z.onscrollend){var e=z.getScrollLeft(),t=z.getScrollTop(),o={type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}};z.onscrollend.call(z,o)}};var A=0,Y=0,H=0,X=1,D=!1;if(this.onmousewheel=function(e){if(z.wheelprevented||z.locked)return!1;if(z.railslocked)return z.debounced("checkunlock",z.resize,250),!1;if(z.rail.drag)return z.cancelEvent(e);if("auto"===_.oneaxismousemode&&0!==e.deltaX&&(_.oneaxismousemode=!1),_.oneaxismousemode&&0===e.deltaX&&!z.rail.scrollable)return!z.railh||!z.railh.scrollable||z.onmousewheelhr(e);var t=f(),o=!1;if(_.preservenativescrolling&&z.checkarea+600<t&&(z.nativescrollingarea=z.isScrollable(e),o=!0),z.checkarea=t,z.nativescrollingarea)return!0;var i=k(e,!1,o);return i&&(z.checkarea=0),i},this.onmousewheelhr=function(e){if(!z.wheelprevented){if(z.railslocked||!z.railh.scrollable)return!0;if(z.rail.drag)return z.cancelEvent(e);var t=f(),o=!1;return _.preservenativescrolling&&z.checkarea+600<t&&(z.nativescrollingarea=z.isScrollable(e),o=!0),z.checkarea=t,!!z.nativescrollingarea||(z.railslocked?z.cancelEvent(e):k(e,!0,o))}},this.stop=function(){return z.cancelScroll(),z.scrollmon&&z.scrollmon.stop(),z.cursorfreezed=!1,z.scroll.y=Math.round(z.getScrollTop()*(1/z.scrollratio.y)),z.noticeCursor(),z},this.getTransitionSpeed=function(e){return 80+e/72*_.scrollspeed|0},_.smoothscroll)if(z.ishwscroll&&L.hastransition&&_.usetransition&&_.smoothscroll){var q="";this.resetTransition=function(){q="",z.doc.css(L.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(e,t){var o=t?e:z.getTransitionSpeed(e),i=o+"ms";return q!==i&&(q=i,z.doc.css(L.prefixstyle+"transition-duration",i)),o},this.doScrollLeft=function(e,t){var o=z.scrollrunning?z.newscrolly:z.getScrollTop();z.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=z.scrollrunning?z.newscrollx:z.getScrollLeft();z.doScrollPos(o,e,t)},this.cursorupdate={running:!1,start:function(){var e=this;if(!e.running){e.running=!0;var t=function(){e.running&&u(t),z.showCursor(z.getScrollTop(),z.getScrollLeft()),z.notifyScrollEvent(z.win[0])};u(t)}},stop:function(){this.running=!1}},this.doScrollPos=function(e,t,o){var i=z.getScrollTop(),r=z.getScrollLeft();if(((z.newscrolly-i)*(t-i)<0||(z.newscrollx-r)*(e-r)<0)&&z.cancelScroll(),_.bouncescroll?(t<0?t=t/2|0:t>z.page.maxh&&(t=z.page.maxh+(t-z.page.maxh)/2|0),e<0?e=e/2|0:e>z.page.maxw&&(e=z.page.maxw+(e-z.page.maxw)/2|0)):(t<0?t=0:t>z.page.maxh&&(t=z.page.maxh),e<0?e=0:e>z.page.maxw&&(e=z.page.maxw)),z.scrollrunning&&e==z.newscrollx&&t==z.newscrolly)return!1;z.newscrolly=t,z.newscrollx=e;var s=z.getScrollTop(),l=z.getScrollLeft(),n={};n.x=e-l,n.y=t-s;var a=0|Math.sqrt(n.x*n.x+n.y*n.y),c=z.prepareTransition(a);z.scrollrunning||(z.scrollrunning=!0,z.triggerScrollStart(l,s,e,t,c),z.cursorupdate.start()),z.scrollendtrapped=!0,L.transitionend||(z.scrollendtrapped&&clearTimeout(z.scrollendtrapped),z.scrollendtrapped=setTimeout(z.onScrollTransitionEnd,c)),z.setScrollTop(z.newscrolly),z.setScrollLeft(z.newscrollx)},this.cancelScroll=function(){if(!z.scrollendtrapped)return!0;var e=z.getScrollTop(),t=z.getScrollLeft();return z.scrollrunning=!1,L.transitionend||clearTimeout(L.transitionend),z.scrollendtrapped=!1,z.resetTransition(),z.setScrollTop(e),z.railh&&z.setScrollLeft(t),z.timerscroll&&z.timerscroll.tm&&clearInterval(z.timerscroll.tm),z.timerscroll=!1,z.cursorfreezed=!1,z.cursorupdate.stop(),z.showCursor(e,t),z},this.onScrollTransitionEnd=function(){if(z.scrollendtrapped){var e=z.getScrollTop(),t=z.getScrollLeft();if(e<0?e=0:e>z.page.maxh&&(e=z.page.maxh),t<0?t=0:t>z.page.maxw&&(t=z.page.maxw),e!=z.newscrolly||t!=z.newscrollx)return z.doScrollPos(t,e,_.snapbackspeed);z.scrollrunning&&z.triggerScrollEnd(),z.scrollrunning=!1,z.scrollendtrapped=!1,z.resetTransition(),z.timerscroll=!1,z.setScrollTop(e),z.railh&&z.setScrollLeft(t),z.cursorupdate.stop(),z.noticeCursor(!1,e,t),z.cursorfreezed=!1}}}else this.doScrollLeft=function(e,t){var o=z.scrollrunning?z.newscrolly:z.getScrollTop();z.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=z.scrollrunning?z.newscrollx:z.getScrollLeft();z.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){var i=z.getScrollTop(),r=z.getScrollLeft();((z.newscrolly-i)*(t-i)<0||(z.newscrollx-r)*(e-r)<0)&&z.cancelScroll();var s=!1;if(z.bouncescroll&&z.rail.visibility||(t<0?(t=0,s=!0):t>z.page.maxh&&(t=z.page.maxh,s=!0)),z.bouncescroll&&z.railh.visibility||(e<0?(e=0,s=!0):e>z.page.maxw&&(e=z.page.maxw,s=!0)),z.scrollrunning&&z.newscrolly===t&&z.newscrollx===e)return!0;z.newscrolly=t,z.newscrollx=e,z.dst={},z.dst.x=e-r,z.dst.y=t-i,z.dst.px=r,z.dst.py=i;var l=0|Math.sqrt(z.dst.x*z.dst.x+z.dst.y*z.dst.y),n=z.getTransitionSpeed(l);z.bzscroll={};var a=s?1:.58;z.bzscroll.x=new P(r,z.newscrollx,n,0,0,a,1),z.bzscroll.y=new P(i,z.newscrolly,n,0,0,a,1),f();var c=function(){if(z.scrollrunning){var e=z.bzscroll.y.getPos();z.setScrollLeft(z.bzscroll.x.getNow()),z.setScrollTop(z.bzscroll.y.getNow()),e<=1?z.timer=u(c):(z.scrollrunning=!1,z.timer=0,z.triggerScrollEnd())}};z.scrollrunning||(z.triggerScrollStart(r,i,e,t,n),z.scrollrunning=!0,z.timer=u(c))},this.cancelScroll=function(){return z.timer&&h(z.timer),z.timer=0,z.bzscroll=!1,z.scrollrunning=!1,z};else this.doScrollLeft=function(e,t){var o=z.getScrollTop();z.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=z.getScrollLeft();z.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){var i=e>z.page.maxw?z.page.maxw:e;i<0&&(i=0);var r=t>z.page.maxh?z.page.maxh:t;r<0&&(r=0),z.synched("scroll",(function(){z.setScrollTop(r),z.setScrollLeft(i)}))},this.cancelScroll=function(){};this.doScrollBy=function(e,t){S(0,e)},this.doScrollLeftBy=function(e,t){S(e,0)},this.doScrollTo=function(e,t){var o=t?Math.round(e*z.scrollratio.y):e;o<0?o=0:o>z.page.maxh&&(o=z.page.maxh),z.cursorfreezed=!1,z.doScrollTop(e)},this.checkContentSize=function(){var e=z.getContentSize();e.h==z.page.h&&e.w==z.page.w||z.resize(!1,e)},z.onscroll=function(e){z.rail.drag||z.cursorfreezed||z.synched("scroll",(function(){z.scroll.y=Math.round(z.getScrollTop()/z.scrollratio.y),z.railh&&(z.scroll.x=Math.round(z.getScrollLeft()/z.scrollratio.x)),z.noticeCursor()}))},z.bind(z.docscroll,"scroll",z.onscroll),this.doZoomIn=function(e){if(!z.zoomactive){z.zoomactive=!0,z.zoomrestore={style:{}};var t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],o=z.win[0].style;for(var i in t){var r=t[i];z.zoomrestore.style[r]=void 0!==o[r]?o[r]:""}z.zoomrestore.style.width=z.win.css("width"),z.zoomrestore.style.height=z.win.css("height"),z.zoomrestore.padding={w:z.win.outerWidth()-z.win.width(),h:z.win.outerHeight()-z.win.height()},L.isios4&&(z.zoomrestore.scrollTop=c.scrollTop(),c.scrollTop(0)),z.win.css({position:L.isios4?"absolute":"fixed",top:0,left:0,zIndex:s+100,margin:0});var l=z.win.css("backgroundColor");return(""===l||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(l))&&z.win.css("backgroundColor","#fff"),z.rail.css({zIndex:s+101}),z.zoom.css({zIndex:s+102}),z.zoom.css("backgroundPosition","0 -18px"),z.resizeZoom(),z.onzoomin&&z.onzoomin.call(z),z.cancelEvent(e)}},this.doZoomOut=function(e){if(z.zoomactive)return z.zoomactive=!1,z.win.css("margin",""),z.win.css(z.zoomrestore.style),L.isios4&&c.scrollTop(z.zoomrestore.scrollTop),z.rail.css({"z-index":z.zindex}),z.zoom.css({"z-index":z.zindex}),z.zoomrestore=!1,z.zoom.css("backgroundPosition","0 0"),z.onResize(),z.onzoomout&&z.onzoomout.call(z),z.cancelEvent(e)},this.doZoom=function(e){return z.zoomactive?z.doZoomOut(e):z.doZoomIn(e)},this.resizeZoom=function(){if(z.zoomactive){var e=z.getScrollTop();z.win.css({width:c.width()-z.zoomrestore.padding.w+"px",height:c.height()-z.zoomrestore.padding.h+"px"}),z.onResize(),z.setScrollTop(Math.min(z.page.maxh,e))}},this.init(),l.nicescroll.push(this)},y=function(e){var t=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(e,o){t.stop(),t.steptime=0,t.lasttime=f(),t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=o,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,o){var i=f();t.steptime=i-t.lasttime,t.lasttime=i;var r=o-t.lasty,s=e-t.lastx,l=t.nc.getScrollTop()+r,n=t.nc.getScrollLeft()+s;t.snapx=n<0||n>t.nc.page.maxw,t.snapy=l<0||l>t.nc.page.maxh,t.speedx=s,t.speedy=r,t.lastx=e,t.lasty=o},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,o){var i=!1;o<0?(o=0,i=!0):o>t.nc.page.maxh&&(o=t.nc.page.maxh,i=!0),e<0?(e=0,i=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,i=!0),i?t.nc.doScrollPos(e,o,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()},this.doMomentum=function(e){var o=f(),i=e?o+e:t.lasttime,r=t.nc.getScrollLeft(),s=t.nc.getScrollTop(),l=t.nc.page.maxh,n=t.nc.page.maxw;t.speedx=n>0?Math.min(60,t.speedx):0,t.speedy=l>0?Math.min(60,t.speedy):0;var a=i&&o-i<=60;(s<0||s>l||r<0||r>n)&&(a=!1);var c=!(!t.speedy||!a)&&t.speedy,d=!(!t.speedx||!a)&&t.speedx;if(c||d){var u=Math.max(16,t.steptime);if(u>50){var h=u/50;t.speedx*=h,t.speedy*=h,u=50}t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var p=t.lastscrollx,m=t.lastscrolly,g=function(){var e=f()-o>600?.04:.02;t.speedx&&(p=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=p,(p<0||p>n)&&(e=.1)),t.speedy&&(m=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=m,(m<0||m>l)&&(e=.1)),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",(function(){t.speedx&&(t.nc.getScrollLeft(),t.chkx=p,t.nc.setScrollLeft(p)),t.speedy&&(t.nc.getScrollTop(),t.chky=m,t.nc.setScrollTop(m)),t.timer||(t.nc.hideCursor(),t.doSnapy(p,m))})),t.demulxy<1?t.timer=setTimeout(g,u):(t.stop(),t.nc.hideCursor(),t.doSnapy(p,m))};g()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},x=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e,t,o){var i=l.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.getScrollTop():x.call(e)},set:function(e,t){var o=l.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollTop(parseInt(t)):x.call(e,t),this}},e.fn.scrollTop=function(e){if(void 0===e){var t=!!this[0]&&(l.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollTop():x.call(this)}return this.each((function(){var t=l.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):x.call(l(this),e)}))};var S=e.fn.scrollLeft;l.cssHooks.pageXOffset={get:function(e,t,o){var i=l.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.getScrollLeft():S.call(e)},set:function(e,t){var o=l.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollLeft(parseInt(t)):S.call(e,t),this}},e.fn.scrollLeft=function(e){if(void 0===e){var t=!!this[0]&&(l.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollLeft():S.call(this)}return this.each((function(){var t=l.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):S.call(l(this),e)}))};var k=function(e){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return l.each(t,e),t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},e)for(var o=0;o<e.length;o++){var i=l.data(e[o],"__nicescroll")||!1;i&&(this[this.length]=i,this.length++)}return this};!function(e,t,o){for(var i=0,r=t.length;i<r;i++)o(e,t[i])}(k.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],(function(e,t){e[t]=function(){var e=arguments;return this.each((function(){this[t].apply(this,e)}))}})),e.fn.getNiceScroll=function(e){return void 0===e?new k(this):this[e]&&l.data(this[e],"__nicescroll")||!1},(e.expr.pseudos||e.expr[":"]).nicescroll=function(e){return void 0!==l.data(e,"__nicescroll")},l.fn.niceScroll=function(e,t){void 0!==t||"object"!=typeof e||"jquery"in e||(t=e,e=!1);var o=new k;return this.each((function(){var i=l(this),r=l.extend({},t);if(e){var s=l(e);r.doc=s.length>1?l(e,i):s,r.win=i}!("doc"in r)||"win"in r||(r.win=i);var n=i.data("__nicescroll")||!1;n||(r.doc=r.doc||i,n=new b(r,i),i.data("__nicescroll",n)),o.push(n)})),1===o.length?o[0]:o},a.NiceScroll={getjQuery:function(){return e}},l.nicescroll||(l.nicescroll=new k,l.nicescroll.options=g)})),function(){if(e("select").length>0){function t(){e.each(e("select"),(function(t,o){var i=t;e(this).hide(),0==e(this).parent(".select-block").length?e(this).wrap("<div class='select-block "+e(this).attr("class")+"-select-block'></div>"):e(this).parent(".select-block").find(".select").remove();var r,s,l="",n="",a=e(this).parent(".select-block"),c="<div class='select-options'><div class='select-options-scroll'><div class='select-options-list'>";"multiple"==e(this).attr("multiple")&&(l="multiple",n="check"),e.each(e(this).find("option"),(function(t,o){if(""!=e(this).attr("class")&&null!=e(this).attr("class")){e(this).attr("class")}""!=e(this).attr("value")?c=""!=e(this).attr("data-icon")&&null!=e(this).attr("data-icon")?c+"<div data-value='"+e(this).attr("value")+"' class='select-options__value_"+i+" select-options__value value_"+e(this).val()+"  "+n+"'><div><img src="+e(this).attr("data-icon")+' alt=""></div><div>'+e(this).html()+"</div></div>":c+"<div data-value='"+e(this).attr("value")+"' class='select-options__value_"+i+" select-options__value value_"+e(this).val()+"  "+n+"'>"+e(this).html()+"</div>":"on"==e(this).parent().attr("data-label")&&0==a.find(".select__label").length&&a.prepend('<div class="select__label">'+e(this).html()+"</div>")})),c+="</div></div></div>","search"==e(this).attr("data-type")?(a.append("<div data-type='search' class='select_"+i+" select "+e(this).attr("class")+"__select "+l+"'><div class='select-title'><div class='select-title__arrow ion-ios-arrow-down'></div><input data-value='"+e(this).find('option[selected="selected"]').html()+"' class='select-title__value value_"+e(this).find('option[selected="selected"]').val()+"' /></div>"+c+"</div>"),e(".select_"+i).find("input.select-title__value").jcOnPageFilter({parentSectionClass:"select-options_"+i,parentLookupClass:"select-options__value_"+i,childBlockClass:"select-options__value_"+i})):"true"==e(this).attr("data-icon")?a.append("<div class='select_"+i+" select "+e(this).attr("class")+"__select icon "+l+"'><div class='select-title'><div class='select-title__arrow ion-ios-arrow-down'></div><div class='select-title__value value_"+e(this).find('option[selected="selected"]').val()+"'><div><img src="+e(this).find('option[selected="selected"]').attr("data-icon")+' alt=""></div><div>'+e(this).find('option[selected="selected"]').html()+"</div></div></div>"+c+"</div>"):a.append("<div class='select_"+i+" select "+e(this).attr("class")+"__select "+l+"'><div class='select-title'><div class='select-title__arrow ion-ios-arrow-down'></div><div class='select-title__value value_"+e(this).find('option[selected="selected"]').val()+"'>"+e(this).find('option[selected="selected"]').html()+"</div></div>"+c+"</div>"),""!=e(this).find('option[selected="selected"]').val()&&a.find(".select").addClass("focus"),1==a.find(".select-options__value").length&&a.find(".select").addClass("one"),"on"==e(this).attr("data-req")&&e(this).addClass("req"),e(".select_"+i+" .select-options-scroll").niceScroll(".select-options-list",(r=100,s=50,isMobile.any()&&(r=10,s=1),{cursorcolor:"#2eac79",cursorwidth:"6px",background:"",autohidemode:!1,bouncescroll:!1,cursorborderradius:"10px",scrollspeed:r,mousescrollstep:s,directionlockdeadzone:0,cursorborder:"0px solid #fff"}))}))}t(),e("body").on("keyup","input.select-title__value",(function(){e(".select").not(e(this).parents(".select")).removeClass("active").find(".select-options").slideUp(50),e(this).parents(".select").addClass("active"),e(this).parents(".select").find(".select-options").slideDown(50,(function(){e(this).find(".select-options-scroll").getNiceScroll().resize()})),e(this).parents(".select-block").find("select").val("")})),e("body").on("click",".select",(function(){if(!e(this).hasClass("disabled")&&!e(this).hasClass("one")){e(".select").not(this).removeClass("active").find(".select-options").slideUp(50),e(this).toggleClass("active"),e(this).find(".select-options").slideToggle(50,(function(){e(this).find(".select-options-scroll").getNiceScroll().resize()})),"search"==e(this).attr("data-type")&&(e(this).hasClass("active"),e(this).find(".select-options__value").show());var t=e.trim(e(this).find(".select-title__value").attr("class").replace("select-title__value",""));e(this).find(".select-options__value").show().removeClass("hide").removeClass("last"),""!=t&&e(this).find(".select-options__value."+t).hide().addClass("hide"),e(this).find(".select-options__value").last().hasClass("hide")&&e(this).find(".select-options__value").last().prev().addClass("last")}})),e("body").on("click",".select-options__value",(function(){if(e(this).parents(".select").hasClass("multiple"))return e(this).hasClass("active")?(e(this).parents(".select").find(".select-title__value span").length>0?e(this).parents(".select").find(".select-title__value").append('<span data-value="'+e(this).data("value")+'">, '+e(this).html()+"</span>"):(e(this).parents(".select").find(".select-title__value").data("label",e(this).parents(".select").find(".select-title__value").html()),e(this).parents(".select").find(".select-title__value").html('<span data-value="'+e(this).data("value")+'">'+e(this).html()+"</span>")),e(this).parents(".select-block").find("select").find("option").eq(e(this).index()+1).prop("selected",!0),e(this).parents(".select").addClass("focus")):(e(this).parents(".select").find(".select-title__value").find('span[data-value="'+e(this).data("value")+'"]').remove(),0==e(this).parents(".select").find(".select-title__value span").length&&(e(this).parents(".select").find(".select-title__value").html(e(this).parents(".select").find(".select-title__value").data("label")),e(this).parents(".select").removeClass("focus")),e(this).parents(".select-block").find("select").find("option").eq(e(this).index()+1).prop("selected",!1)),!1;"search"==e(this).parents(".select").attr("data-type")?(e(this).parents(".select").find(".select-title__value").val(e(this).html()),e(this).parents(".select").find(".select-title__value").attr("data-value",e(this).html())):(e(this).parents(".select").find(".select-title__value").attr("class","select-title__value value_"+e(this).data("value")),e(this).parents(".select").find(".select-title__value").html(e(this).html())),e(this).parents(".select-block").find("select").find("option").removeAttr("selected"),""!=e.trim(e(this).data("value"))?(e(this).parents(".select-block").find("select").val(e(this).data("value")),e(this).parents(".select-block").find("select").find('option[value="'+e(this).data("value")+'"]').attr("selected","selected")):(e(this).parents(".select-block").find("select").val(e(this).html()),e(this).parents(".select-block").find("select").find('option[value="'+e(this).html()+'"]').attr("selected","selected")),""!=e(this).parents(".select-block").find("select").val()?e(this).parents(".select-block").find(".select").addClass("focus"):(e(this).parents(".select-block").find(".select").removeClass("focus"),e(this).parents(".select-block").find(".select").removeClass("err"),e(this).parents(".select-block").parent().removeClass("err"),e(this).parents(".select-block").removeClass("err").find(".form__error").remove()),""!=!e(this).parents(".select").data("tags")&&0==e(this).parents(".form-tags").find('.form-tags__item[data-value="'+e(this).data("value")+'"]').length&&e(this).parents(".form-tags").find(".form-tags-items").append('<a data-value="'+e(this).data("value")+'" href="" class="form-tags__item">'+e(this).html()+'<span class="fa fa-times"></span></a>'),e(this).parents(".select-block").find("select").change(),"on"==e(this).parents(".select-block").find("select").data("update")&&t()})),e(document).on("click touchstart",(function(t){e(t.target).is(".select *")||e(t.target).is(".select")||(e(".select").removeClass("active"),e(".select-options").slideUp(50,(function(){})))})),e(document).on("keydown",(function(t){27==t.which&&(e(".select").removeClass("active"),e(".select-options").slideUp(50,(function(){})))}))}}()}));